{"version":3,"sources":["components/Login.js","components/Timetable.js","App.js"],"names":["Login","props","state","firstName","secondName","handleFirstNameChange","bind","handleSecondNameChange","handleSubmit","loadCredentials","a","async","JSON","AsyncStorage","getItem","value","parse","this","setState","text","handleCredentials","trim","View","style","styles","container","Text","title","TextInput","inputField","placeholder","onChangeText","TouchableOpacity","button","onPress","error","Component","StyleSheet","create","fontSize","flex","backgroundColor","flexDirection","margin","marginTop","marginBottom","height","color","padding","marginLeft","marginRight","LeftSquare","leftSquare","leftSquareText","time","Times","timesContainer","data","map","i","key","Day","custom","personTimetable","table","day","unshift","concat","slice","push","length","now","Date","timetableItem","getDay","Math","random","Timetable","times","timetables","changeWindow","showPdf","pdf","base","StatusBar","hidden","navbar","toLowerCase","replace","w","c","toUpperCase","buttonContainer","source","uri","timetableContainer","subjectContainer","department","justifyContent","paddingTop","paddingBottom","paddingLeft","overflow","textAlign","fontWeight","textShadowRadius","textShadowOffset","x","y","borderWidth","borderColor","alignItems","maxWidth","App","logged","errorMessage","jsonValue","stringify","setItem","departments","includes","split","join","maturaTimetable","setTimeout","restart","timetableA","timetableB"],"mappings":"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","file":"static/js/app.50d954a2.chunk.js","sourcesContent":["import React, { Component, useState } from 'react';\r\nimport { StyleSheet, Text, View, TextInput, Button, TouchableOpacityBase, TouchableOpacity } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        firstName: \"\",\r\n        secondName: \"\"\r\n      };\r\n      this.handleFirstNameChange = this.handleFirstNameChange.bind(this);\r\n      this.handleSecondNameChange = this.handleSecondNameChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n      this.loadCredentials = this.loadCredentials.bind(this);\r\n      this.loadCredentials();\r\n    }\r\n\r\n    async loadCredentials () {\r\n      const value =  JSON.parse( await AsyncStorage.getItem(\"credentials\"));\r\n      if (value) {this.setState({\r\n        firstName: value[0],\r\n        secondName: value[1]\r\n      });\r\n    };\r\n  \r\n    };\r\n    \r\n    handleFirstNameChange (text) {\r\n      this.setState({\r\n        firstName: text\r\n      });\r\n    };\r\n    handleSecondNameChange (text) {\r\n      this.setState({\r\n        secondName: text\r\n      });\r\n    };\r\n\r\n    handleSubmit () {\r\n      this.props.handleCredentials(this.state.firstName.trim(), this.state.secondName.trim());\r\n    };\r\n\r\n    render() {\r\n      return (\r\n        <View style={styles.container}>\r\n          <Text style = {styles.title}>Vpiši svoje podatke:</Text>\r\n          <TextInput style = {styles.inputField} placeholder = \"Ime...\" onChangeText = {this.handleFirstNameChange} value = {this.state.firstName} />\r\n          <TextInput style = {styles.inputField} placeholder = \"Priimek...\" onChangeText = {this.handleSecondNameChange} value = {this.state.secondName} />\r\n          <TouchableOpacity style = {styles.button} onPress = {this.handleSubmit}><Text style = {styles.text}>➡️</Text></TouchableOpacity>\r\n          <Text style = {styles.error}>{this.props.error}</Text>\r\n        </View>\r\n      );\r\n    };\r\n  };\r\n\r\n  const styles = StyleSheet.create({\r\n    text: {\r\n      fontSize: 30\r\n    },\r\n    container: {    \r\n      flex: 1,\r\n      backgroundColor: '#fff',\r\n      flexDirection: \"column\",\r\n      margin: 10,\r\n      marginTop: \"30%\"\r\n    },\r\n    title: {\r\n      marginBottom: 20,\r\n\r\n    },\r\n    inputField: {\r\n      marginBottom: 10,\r\n      backgroundColor: \"#C4C4C4\",\r\n      height: 30,\r\n      color: \"#000000\",\r\n      padding: 3\r\n    },\r\n    button : {\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\"\r\n    },\r\n    error: {\r\n      color: \"#ff0000\"\r\n    }\r\n  })\r\n\r\n  export default Login;","import { StatusBar } from 'expo-status-bar';\r\nimport React, { Component, useState } from 'react';\r\nimport { StyleSheet, Text, View, TextInput, Button, TouchableOpacityBase, TouchableOpacity, Touchable } from 'react-native';\r\nimport { WebView } from 'react-native-webview';\r\n\r\nclass LeftSquare extends Component {\r\n    constructor (props) {\r\n        super(props);\r\n    };\r\n    render () {\r\n        return (\r\n            <View style = {styles.leftSquare}>\r\n                <Text style = {styles.leftSquareText}>{this.props.time}</Text>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nclass Times extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    };\r\n    render () {\r\n        return (\r\n            <View style = {styles.timesContainer}>\r\n                {this.props.data.map((a, i) => {\r\n                    return <LeftSquare time = {a} key = {i}></LeftSquare>\r\n                })}\r\n            </View>\r\n        );\r\n    };\r\n}\r\n\r\nclass Day extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            custom: this.props.personTimetable,\r\n            table: this.props.table\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let table = [...this.state.table];\r\n        let custom = {...this.state.custom};\r\n        let day = this.props.day\r\n        switch (day) {\r\n            case 0:\r\n                table.unshift(custom[\"subjects\"][0]);\r\n            break;\r\n            case 1:\r\n                table = table.concat(custom[\"subjects\"].slice(1,4))\r\n            break;\r\n            case 2:\r\n                table.unshift(...custom[\"subjects\"].slice(4,6))\r\n                table.push(custom[\"subjects\"][custom[\"subjects\"].length -1])\r\n            break;\r\n            case 3:\r\n                table = custom[\"subjects\"].slice(6,8).concat(table)\r\n                table.unshift(custom[\"subjects\"][9])\r\n                table.push(custom[\"subjects\"][8])\r\n            break;\r\n            case 4:\r\n                table = table.concat(custom[\"subjects\"].slice(10,12))\r\n            break;\r\n        }\r\n        let now = new Date();\r\n        return (\r\n            <View>\r\n                {\r\n                    table.map(a => {\r\n                        return (\r\n                        <View style = {[styles.timetableItem, {backgroundColor: now.getDay()-1 == day ? this.props.personTimetable[\"gender\"] == \"m\" ? \"#96DFFF\" : \"#FFBBBB\" : \"\"}]} key = {Math.random()}>\r\n                            <Text>{!a || a == \"---\" ? \":)\" : a}</Text>    \r\n                        </View>)\r\n                    })\r\n                }\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport default class Timetable extends Component {\r\n    constructor (props) {\r\n        super(props)\r\n        this.state = {\r\n            times: ['7.20\\n8.05 ', '8.10\\n8.55 ', '9.00\\n9.45 ', '10.05\\n10.50 ', '10.55\\n11.40 ', '11.45\\n12.30 ', '12.35\\n13.20 ', '13.50\\n14.35'],\r\n            timetables: this.props.timetables\r\n            \r\n        };\r\n        this.changeWindow = this.changeWindow.bind(this);\r\n        this.showPdf = this.showPdf.bind(this);\r\n    };\r\n\r\n    changeWindow () {\r\n        this.props.changeWindow()\r\n        this.setState({\r\n            times: [],\r\n            timetables: [],\r\n            pdf: false\r\n        });\r\n    };\r\n\r\n    showPdf () {\r\n        this.setState({\r\n            pdf: !this.state.pdf\r\n        });\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <View style = {styles.base}>\r\n                <StatusBar hidden />\r\n                <View style = {[styles.navbar, {backgroundColor: this.props.personTimetable[\"gender\"] == \"m\" ? \"#0080B7\" : \"#FA7171\"}]}>\r\n                    <Text style = {styles.text}>{this.props.firstName.trim().toLowerCase().replace(/\\w\\S*/g, (w) => (w.replace(/^\\w/, (c) => c.toUpperCase()))) + \" \" + this.props.secondName.trim().toLowerCase().replace(/\\w\\S*/g, (w) => (w.replace(/^\\w/, (c) => c.toUpperCase())))}</Text>\r\n                    <View style = {styles.buttonContainer}>\r\n                        <TouchableOpacity onPress = {this.changeWindow}><Text style = {styles.text}>🔙</Text></TouchableOpacity>\r\n                        <TouchableOpacity onPress = {this.showPdf}><Text style = {styles.text}>📰</Text></TouchableOpacity>\r\n                    </View>\r\n                </View>  \r\n\r\n                {\r\n                    this.state.pdf ?\r\n                    \r\n                    <WebView source={{uri: 'https://docs.google.com/gview?url=https://gz.zelimlje.si/wp-content/uploads/sites/2/2021/09/Urnik_teden.pdf'}}/> :\r\n\r\n                    <View style = {styles.timetableContainer}>\r\n                    <Times data = {this.state.times}></Times>\r\n                    <View style = {styles.subjectContainer}>\r\n                        {\r\n                            this.state.timetables[0][this.props.department].map((a, i) => {\r\n                                return <Day table = {a} personTimetable = {this.props.personTimetable} day = {i} key = {i} ></Day> \r\n                            })\r\n                        }\r\n                    </View>\r\n\r\n                </View>\r\n                } \r\n            </View>\r\n        );\r\n    };\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    buttonContainer: {\r\n        flexDirection: 'row-reverse'\r\n    },\r\n    navbar:{\r\n        justifyContent: \"space-between\",\r\n        flexDirection: \"row\",\r\n        marginBottom: 10,\r\n        padding: 5,\r\n        paddingTop: 10,\r\n    },\r\n    text: {\r\n        color: \"white\",\r\n        paddingBottom: 0,\r\n        paddingLeft: 3,\r\n        fontSize: 30\r\n    },\r\n    base : {\r\n        flex: 1,\r\n        flexDirection: \"column\",\r\n        overflow: \"scroll\"\r\n    },\r\n    leftSquare: {\r\n        backgroundColor: \"#c3c3c3\",\r\n        height: 36,\r\n        marginBottom: 5,\r\n        paddingTop: 2,\r\n    },\r\n    leftSquareText: {\r\n        color: \"#ffffff\",\r\n        textAlign: \"center\",\r\n        fontWeight: \"bold\",\r\n        textShadowRadius: 10,\r\n        textShadowOffset: {\r\n            x: 10,\r\n            y:10\r\n        }\r\n\r\n    },\r\n    timetableItem: {\r\n        borderWidth: 2,\r\n        backgroundColor: \"#fff\",\r\n        borderColor: \"#000000\",\r\n        height: 36,\r\n        margin: 5,\r\n        marginTop: 0,\r\n        padding: 5,\r\n        textAlign: \"center\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n        \r\n    },\r\n    timesContainer: {\r\n        maxWidth: 50,\r\n        height: 40,\r\n        marginLeft: 5\r\n    },\r\n    timetableContainer: {\r\n        flexDirection: \"row\",\r\n        flex: 1,\r\n    },\r\n    subjectContainer: {\r\n        flexDirection: \"row\",\r\n        justifyContent: \"space-around\"\r\n\r\n    }\r\n})","import React, { Component, useState, Navigator } from 'react';\r\nimport { StyleSheet, Text, View, TextInput, Button, TouchableOpacityBase, TouchableOpacity } from 'react-native';\r\nimport Login from \"./components/Login\";\r\nimport Timetable from \"./components/Timetable\";\r\nimport maturaTimetable from './assets/matura_timetable.json';\r\nimport departments from './assets/departments.json';\r\nimport timetableA from './assets/timetable_a.json';\r\nimport timetableB from './assets/timetable_b.json';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\n\r\nexport default class App extends Component {\r\n  constructor (props) {\r\n    super(props);\r\n    \r\n    this.state = {\r\n      firstName: \"\",\r\n      secondName: \"\",\r\n      logged: false,\r\n      personTimetable: {},\r\n      errorMessage: \"\",\r\n      department: \"\"\r\n    };\r\n    this.handleCredentials = this.handleCredentials.bind(this);\r\n  }\r\n\r\n\r\n\r\n  async handleCredentials (firstName, secondName) {\r\n    firstName = firstName.toLowerCase();\r\n    secondName = secondName.toLowerCase();\r\n\r\n    const jsonValue = JSON.stringify([firstName, secondName]);\r\n    await AsyncStorage.setItem(\"credentials\", jsonValue);\r\n\r\n    let department = \"\"\r\n    for (let key in departments) {\r\n      if (departments[key].includes(firstName.split(\" \").map((a,i) => i == 1? a[0] + \".\" : a).join(\" \") + \" \" + secondName)) {\r\n        department = key\r\n      }\r\n    }\r\n    if (maturaTimetable[firstName + \" \" + secondName]) {\r\n      this.setState({\r\n        firstName: firstName,\r\n        secondName: secondName,\r\n        logged: true,\r\n        personTimetable: maturaTimetable[firstName + \" \" + secondName],\r\n        department: department\r\n      });\r\n    }\r\n    else {\r\n      this.setState({\r\n        errorMessage: \"Napačno ime ali priimek. Si pozabil zapisati obe imeni?\"\r\n      });\r\n      setTimeout(() => {\r\n        this.setState({\r\n          errorMessage: \"\"\r\n        })\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  restart() {\r\n    this.setState({\r\n      firstName: \"\",\r\n      secondName: \"\",\r\n      logged: false,\r\n      personTimetable: {},\r\n      errorMessage: \"\",\r\n      department: \"\"\r\n    });\r\n  }\r\n\r\n  render (){\r\n    if (this.state.logged) return <Timetable changeWindow = {() => this.restart()} department = {this.state.department} timetables = {[timetableA, timetableB, {}]} personTimetable = {this.state.personTimetable} firstName = {this.state.firstName} secondName = {this.state.secondName} />;\r\n    return <Login error = {this.state.errorMessage} handleCredentials = {this.handleCredentials}></Login>;\r\n  }\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});"],"sourceRoot":""}