{"version":3,"sources":["components/Login.js","components/Timetable.js","App.js"],"names":["Login","props","state","firstName","secondName","handleFirstNameChange","bind","handleSecondNameChange","handleSubmit","loadCredentials","a","async","JSON","AsyncStorage","getItem","value","parse","this","setState","text","loading","handleCredentials","trim","View","style","styles","container","Text","title","TextInput","inputField","placeholder","onChangeText","TouchableOpacity","button","onPress","error","Component","StyleSheet","create","fontSize","flex","backgroundColor","flexDirection","margin","marginTop","marginBottom","height","color","padding","marginLeft","marginRight","LeftSquare","leftSquare","leftSquareText","time","Times","timesContainer","data","map","i","key","Day","custom","personTimetable","table","day","unshift","concat","slice","push","length","now","Date","getHours","setDate","getDate","timetableItem","getDay","Math","random","Timetable","times","timetables","changeWindow","showPdf","pdf","d","getMonth","String","base","StatusBar","hidden","navbar","buttonContainer","href","formateTimetableLink","source","uri","timetableContainer","subjectContainer","currentTimetable","department","justifyContent","paddingTop","paddingBottom","paddingLeft","textTransform","overflow","textAlign","fontWeight","textShadowRadius","textShadowOffset","x","y","borderWidth","borderColor","alignItems","maxWidth","App","logged","errorMessage","toLowerCase","jsonValue","stringify","setItem","departments","includes","split","join","maturaTimetable","lastYear","fetch","then","json","setTimeout","restart","timetableA","timetableB","login"],"mappings":"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","file":"static/js/app.c233cb2f.chunk.js","sourcesContent":["import React, { Component, useState } from 'react';\r\nimport { StyleSheet, Text, View, TextInput, Button, TouchableOpacityBase, TouchableOpacity } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        firstName: \"\",\r\n        secondName: \"\"\r\n      };\r\n      this.handleFirstNameChange = this.handleFirstNameChange.bind(this);\r\n      this.handleSecondNameChange = this.handleSecondNameChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n      this.loadCredentials = this.loadCredentials.bind(this);\r\n      this.loadCredentials();\r\n    }\r\n\r\n    async loadCredentials () {\r\n      const value =  JSON.parse( await AsyncStorage.getItem(\"credentials\"));\r\n      if (value) {this.setState({\r\n        firstName: value[0],\r\n        secondName: value[1]\r\n      });\r\n    };\r\n  \r\n    };\r\n    \r\n    handleFirstNameChange (text) {\r\n      this.setState({\r\n        firstName: text\r\n      });\r\n    };\r\n    handleSecondNameChange (text) {\r\n      this.setState({\r\n        secondName: text\r\n      });\r\n    };\r\n\r\n    handleSubmit () {\r\n      if (this.props.loading) return\r\n      this.props.handleCredentials(this.state.firstName.trim(), this.state.secondName.trim());\r\n    };\r\n\r\n    render() {\r\n      return (\r\n        <View style={styles.container}>\r\n          <Text style = {styles.title}>Vpi≈°i svoje podatke:</Text>\r\n          <TextInput style = {styles.inputField} placeholder = \"Ime...\" onChangeText = {this.handleFirstNameChange} value = {this.state.firstName} />\r\n          <TextInput style = {styles.inputField} placeholder = \"Priimek...\" onChangeText = {this.handleSecondNameChange} value = {this.state.secondName} />\r\n          <TouchableOpacity style = {styles.button} onPress = {this.handleSubmit}><Text style = {styles.text}>‚û°Ô∏è</Text></TouchableOpacity>\r\n          <Text style = {styles.error}>{this.props.error}</Text>\r\n        </View>\r\n      );\r\n    };\r\n  };\r\n\r\n  const styles = StyleSheet.create({\r\n    text: {\r\n      fontSize: 30\r\n    },\r\n    container: {    \r\n      flex: 1,\r\n      backgroundColor: '#fff',\r\n      flexDirection: \"column\",\r\n      margin: 10,\r\n      marginTop: \"30%\"\r\n    },\r\n    title: {\r\n      marginBottom: 20,\r\n\r\n    },\r\n    inputField: {\r\n      marginBottom: 10,\r\n      backgroundColor: \"#C4C4C4\",\r\n      height: 30,\r\n      color: \"#000000\",\r\n      padding: 3\r\n    },\r\n    button : {\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\"\r\n    },\r\n    error: {\r\n      color: \"#ff0000\"\r\n    }\r\n  })\r\n\r\n  export default Login;","import { StatusBar } from 'expo-status-bar';\r\nimport React, { Component, useState } from 'react';\r\nimport { StyleSheet, Text, View, TextInput, Button, TouchableOpacityBase, TouchableOpacity, Touchable } from 'react-native';\r\nimport { WebView } from 'react-native-webview';\r\n\r\nclass LeftSquare extends Component {\r\n    constructor (props) {\r\n        super(props);\r\n    };\r\n    render () {\r\n        return (\r\n            <View style = {styles.leftSquare}>\r\n                <Text style = {styles.leftSquareText}>{this.props.time}</Text>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nclass Times extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    };\r\n    render () {\r\n        return (\r\n            <View style = {styles.timesContainer}>\r\n                {this.props.data.map((a, i) => {\r\n                    return <LeftSquare time = {a} key = {i}></LeftSquare>\r\n                })}\r\n            </View>\r\n        );\r\n    };\r\n}\r\n\r\nclass Day extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            custom: this.props.personTimetable,\r\n            table: this.props.table\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let table = [...this.state.table];\r\n        let custom = {...this.state.custom};\r\n        let day = this.props.day\r\n        if (this.props.personTimetable) {\r\n            switch (day) {\r\n                case 0:\r\n                    table.unshift(custom[\"subjects\"][0]);\r\n                break;\r\n                case 1:\r\n                    table = table.concat(custom[\"subjects\"].slice(1,4))\r\n                break;\r\n                case 2:\r\n                    table.unshift(...custom[\"subjects\"].slice(4,6))\r\n                    table.push(custom[\"subjects\"][custom[\"subjects\"].length -1])\r\n                break;\r\n                case 3:\r\n                    table = custom[\"subjects\"].slice(6,8).concat(table)\r\n                    table.unshift(custom[\"subjects\"][9])\r\n                    table.push(custom[\"subjects\"][8])\r\n                break;\r\n                case 4:\r\n                    table = table.concat(custom[\"subjects\"].slice(10,12))\r\n                break;\r\n            }\r\n        }\r\n        let now = new Date();\r\n        if (now.getHours() > 14) {now.setDate(now.getDate() + 1)}\r\n        return (\r\n            <View>\r\n                {\r\n                    table.map(a => {\r\n                        return (\r\n                        <View style = {[styles.timetableItem, {backgroundColor: now.getDay()-1 == day ? this.props.personTimetable[\"gender\"] == \"f\" ? \"#FFBBBB\" : \"#96DFFF\"  : \"\"}]} key = {Math.random()}>\r\n                            <Text>{!a || a == \"---\" ? \":)\" : a}</Text>    \r\n                        </View>)\r\n                    })\r\n                }\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport default class Timetable extends Component {\r\n    constructor (props) {\r\n        super(props)\r\n        this.state = {\r\n            times: ['7.20\\n8.05 ', '8.10\\n8.55 ', '9.00\\n9.45 ', '10.05\\n10.50 ', '10.55\\n11.40 ', '11.45\\n12.30 ', '12.35\\n13.20 ', '13.50\\n14.35'],\r\n            timetables: this.props.timetables\r\n        };\r\n        this.changeWindow = this.changeWindow.bind(this);\r\n        this.showPdf = this.showPdf.bind(this);\r\n    };\r\n\r\n    changeWindow () {\r\n        this.props.changeWindow()\r\n        this.setState({\r\n            times: [],\r\n            timetables: [],\r\n            pdf: false\r\n        });\r\n    };\r\n\r\n    showPdf () {\r\n        this.setState({\r\n            pdf: !this.state.pdf\r\n        });\r\n    };\r\n\r\n    formateTimetableLink() {\r\n        let d = new Date()\r\n        d = d.getMonth() + 1\r\n        d = String(d)\r\n        if (d.length) d = \"0\" + d\r\n        return \"https://gz.zelimlje.si/wp-content/uploads/sites/2/2021/\" + d +\"/Urnik_teden.pdf\"\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <View style = {styles.base}>\r\n                <StatusBar hidden />\r\n                <View style = {[styles.navbar, {backgroundColor: this.props.personTimetable[\"gender\"] == \"f\" ? \"#FA7171\" : \"#0080B7\" }]}>\r\n                    <Text style = {styles.text}>{this.props.firstName.trim() + \" \" + this.props.secondName.trim()}</Text>\r\n                    <View style = {styles.buttonContainer}>\r\n                        <TouchableOpacity onPress = {this.changeWindow}><Text style = {styles.text}>üîô</Text></TouchableOpacity>\r\n                        <TouchableOpacity onPress = {this.showPdf}><Text style = {styles.text}>üì∞</Text></TouchableOpacity>\r\n                        <TouchableOpacity><a href = {'https://docs.google.com/gview?url=' + this.formateTimetableLink()}>‚ö°</a></TouchableOpacity>\r\n                    </View>\r\n                </View>  \r\n\r\n                {\r\n                    this.state.pdf ?\r\n                    \r\n                    <WebView source={{uri: 'https://docs.google.com/gview?url=' + this.formateTimetableLink()}}/> :\r\n\r\n                    <View style = {styles.timetableContainer}>\r\n                    <Times data = {this.state.times}></Times>\r\n                    <View style = {styles.subjectContainer}>\r\n                        {\r\n                            ((this.props.currentTimetable ? this.props.currentTimetable : this.state.timetables[0])[this.props.department]).map((a, i) => {\r\n                                return <Day table = {a} personTimetable = {this.props.personTimetable} day = {i} key = {i} ></Day> \r\n                            })\r\n                        }\r\n                    </View>\r\n\r\n                </View>\r\n                } \r\n            </View>\r\n        );\r\n    };\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    buttonContainer: {\r\n        flexDirection: 'row-reverse'\r\n    },\r\n    navbar:{\r\n        justifyContent: \"space-between\",\r\n        flexDirection: \"row\",\r\n        marginBottom: 10,\r\n        padding: 5,\r\n        paddingTop: 10,\r\n    },\r\n    text: {\r\n        color: \"white\",\r\n        paddingBottom: 0,\r\n        paddingLeft: 3,\r\n        fontSize: 30,\r\n        textTransform: 'capitalize'\r\n    },\r\n    base : {\r\n        flex: 1,\r\n        flexDirection: \"column\",\r\n        overflow: \"scroll\"\r\n    },\r\n    leftSquare: {\r\n        backgroundColor: \"#c3c3c3\",\r\n        height: 36,\r\n        marginBottom: 5,\r\n        paddingTop: 2,\r\n    },\r\n    leftSquareText: {\r\n        color: \"#ffffff\",\r\n        textAlign: \"center\",\r\n        fontWeight: \"bold\",\r\n        textShadowRadius: 10,\r\n        textShadowOffset: {\r\n            x: 10,\r\n            y:10\r\n        }\r\n\r\n    },\r\n    timetableItem: {\r\n        borderWidth: 2,\r\n        backgroundColor: \"#fff\",\r\n        borderColor: \"#000000\",\r\n        height: 36,\r\n        margin: 5,\r\n        marginTop: 0,\r\n        padding: 5,\r\n        textAlign: \"center\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n        \r\n    },\r\n    timesContainer: {\r\n        maxWidth: 50,\r\n        height: 40,\r\n        marginLeft: 5\r\n    },\r\n    timetableContainer: {\r\n        flexDirection: \"row\",\r\n        flex: 1,\r\n    },\r\n    subjectContainer: {\r\n        flexDirection: \"row\",\r\n        justifyContent: \"space-around\"\r\n\r\n    }\r\n})","import React, { Component, useState, Navigator } from 'react';\r\nimport { StyleSheet, Text, View, TextInput, Button, TouchableOpacityBase, TouchableOpacity } from 'react-native';\r\nimport Login from \"./components/Login\";\r\nimport Timetable from \"./components/Timetable\";\r\nimport maturaTimetable from './assets/matura_timetable.json';\r\nimport departments from './assets/departments.json';\r\nimport timetableA from './assets/timetable_a.json';\r\nimport timetableB from './assets/timetable_b.json';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\n\r\nexport default class App extends Component {\r\n  constructor (props) {\r\n    super(props);\r\n    \r\n    this.state = {\r\n      firstName: \"\",\r\n      secondName: \"\",\r\n      logged: false,\r\n      personTimetable: {},\r\n      errorMessage: \"\",\r\n      department: \"\",\r\n      currentTimetable: false\r\n    };\r\n    this.handleCredentials = this.handleCredentials.bind(this);\r\n  }\r\n\r\n\r\n\r\n  async handleCredentials (firstName, secondName) {\r\n    this.setState({loading:true});\r\n    firstName = firstName.toLowerCase();\r\n    secondName = secondName.toLowerCase();\r\n\r\n    const jsonValue = JSON.stringify([firstName, secondName]);\r\n    await AsyncStorage.setItem(\"credentials\", jsonValue);\r\n\r\n    let department = \"\"\r\n    for (let key in departments) {\r\n      if (departments[key].includes(firstName.split(\" \").map((a,i) => i == 1? a[0] + \".\" : a).join(\" \") + \" \" + secondName)) {\r\n        department = key\r\n      }\r\n    }\r\n    if (!firstName || !secondName) return\r\n    if (maturaTimetable[firstName + \" \" + secondName]) {\r\n      this.setState({\r\n        firstName: firstName,\r\n        secondName: secondName,\r\n        logged: true,\r\n        personTimetable: maturaTimetable[firstName + \" \" + secondName],\r\n        department: department,\r\n        lastYear: true,\r\n        loading:false\r\n      });\r\n    }\r\n    else if (department) {\r\n      let currentTimetable = false\r\n      let c = await fetch(\"https://timetable-gz.herokuapp.com/\").then(a => a.json()).then(a => {currentTimetable = a})\r\n      this.setState({\r\n        firstName: firstName,\r\n        secondName: secondName,\r\n        logged:  true,\r\n        personTimetable: false,\r\n        department: department,\r\n        currentTimetable: currentTimetable,\r\n        lastYear: false,\r\n        loading:false\r\n      })\r\n    }\r\n    else {\r\n      this.setState({\r\n        errorMessage: \"Napaƒçno ime ali priimek. Si pozabil zapisati obe imeni?\",\r\n        loading:false\r\n      });\r\n      setTimeout(() => {\r\n        this.setState({\r\n          errorMessage: \"\"\r\n        })\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  restart() {\r\n    this.setState({\r\n      firstName: \"\",\r\n      secondName: \"\",\r\n      logged: false,\r\n      personTimetable: {},\r\n      errorMessage: \"\",\r\n      department: \"\"\r\n    });\r\n  }\r\n\r\n  render (){\r\n    if (this.state.logged) return <Timetable changeWindow = {() => this.restart()} department = {this.state.department} timetables = {[timetableA, timetableB, {}]} currentTimetable = {this.state.currentTimetable} personTimetable = {this.state.personTimetable} firstName = {this.state.firstName} secondName = {this.state.secondName} />;\r\n    return <Login error = {this.state.errorMessage} handleCredentials = {this.handleCredentials} login = {this.loading}></Login>;\r\n  }\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});"],"sourceRoot":""}